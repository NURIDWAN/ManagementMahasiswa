generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model user {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId 
  fullname     String
  email        String @unique
  password     String
  createDate   DateTime @default(now())
  updateDate   DateTime @updatedAt
}

model product {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId 
  name         String
  customer     String
  quantity     String
  status       String
  price        String
  imageUrl     String?
  createDate   DateTime @default(now())
  updateDate   DateTime @updatedAt
}

model Falkutas {
  id            String    @id @default(auto()) @map("_id") @db.ObjectId
  nama          String
  code_falkutas String    @unique

  jurusans      Jurusan[]
  students      Student[]
}

model Jurusan {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  nama       String
  kode       String   @unique
  falkutasId String   @db.ObjectId
  falkutas   Falkutas @relation(fields: [falkutasId], references: [id])
  students   Student[]
}

model Student {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  nim        String   @unique
  nama       String
  email      String   @unique
  semester   Int
  jurusanId  String   @db.ObjectId
  jurusan    Jurusan  @relation(fields: [jurusanId], references: [id])
  falkutasId String   @db.ObjectId
  falkutas   Falkutas @relation(fields: [falkutasId], references: [id])
  createDate DateTime @default(now())
  updateDate DateTime @updatedAt
}
